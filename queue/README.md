# Azureのメッセージングサービス4種

## メッセージ系
### Queue Storage
- シンプルなメッセージキュー
- AzureStorageを利用
- データ量が多い場合
  - 無制限のキューサイズ
- RESTベース
- ストレージの容量で課金
- 単一の送信先


## Service Bus
### キュー：
- 単一の受信者
- 柔軟なキュー
- 容量は最大80GB
- 以下のいずれかを選択可能
  - At-Least-Once：最低1回（重複あり、損失なし）
    - 少なくとも1回。つまり1回は確実に配信されるが、重複(２回以上同じメッセージ)がありうる。
  - At-Most-Once：最大1回（重複なし、損失あり）
    - 最大1回。つまり0回=配信されないことがある。重複はない。
- トランザクションあり（複数メッセージをグループ化できる）
- 先入れ先出し法（FIFO）
- 信頼性向上
  - 非同期に処理できる

### トピック：
- 複数の受信者
- 複数クライアントからのサブスク・処理が可能

## Queue Storage or Service Bus
- Queueストレージを選択（最も単純)
  - データ量が多い(キューのサイズが80GBを超える)
  - 簡単にコーディングできるシンプルなキューがほしい

- Service Busキューを選択
  - At-Most-Once保証(最大1回、重複なし)が必要
  - 順序保証(FIFO)が必要
  - トランザクションが必要（全て処理される or 何も処理されない)
  - データ量が比較的少ない(キューのサイズが80GB未満)

- Service Busトピックを選択（最も複雑）
  - 複数のサブスクライバー（受信者）が必要



# イベント系
## Event Grid：
- シンプルなイベント

## Event Hubs：
- 高スループット、多数のパブリッシャー、セキュリティ、回復性を持つイベント

